<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surat Masuk - Dashboard</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <!-- Sidebar placeholder -->
    <div id="sidebar-placeholder"></div>

    <!-- Main content -->
    <div class="main-content">
      <!-- Header -->
      <div class="content-header">
        <div class="search-box">
          <input type="text" placeholder="Search" id="headerSearch" />
          <i class="bi bi-search"></i>
        </div>
        <div class="header-right">
          <button class="header-btn">
            <i class="bi bi-bell-fill"></i>
            <span class="notification-badge">4</span>
          </button>
          <div class="language-selector">
            <img src="https://flagcdn.com/w40/id.png" alt="Indonesia" />
            <span style="font-size: 14px; font-weight: 500">Indonesia</span>
            <i class="bi bi-chevron-down" style="font-size: 12px"></i>
          </div>
          <div class="user-info">
            <div class="user-details">
              <div class="user-details-name">Staff TU Puslapbinkunhan</div>
              <div class="user-details-role">Admin</div>
            </div>
            <div class="user-avatar-header">
              <i class="bi bi-person-fill"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Page content -->
      <div class="content-container">
        <!-- LIST VIEW -->
        <div class="list-view-container" id="listViewContainer">
          <h1 class="page-title">Surat Masuk</h1>

          <div class="surat-masuk-card">
            <div class="card-header-section">
              <button class="btn-tambah" onclick="showTambahForm()">
                <i class="bi bi-plus-lg"></i>
                Tambah Baru
              </button>
              <div class="search-table">
                <input type="text" placeholder="Search" id="tableSearch" />
                <i class="bi bi-search"></i>
              </div>
            </div>

            <div class="table-responsive">
              <table class="surat-table">
                <thead>
                  <tr>
                    <th class="td-no">No</th>
                    <th class="td-tanggal">Tanggal Terima</th>
                    <th class="td-nosurat">No Surat</th>
                    <th class="td-perihal">Perihal</th>
                    <th class="td-dari">Dari</th>
                    <th class="td-kepada">Kepada</th>
                    <th class="td-opsi">Opsi</th>
                  </tr>
                </thead>
                <tbody id="tableBody">
                  <!-- Data will be populated by JavaScript -->
                </tbody>
              </table>
            </div>

            <div class="pagination-wrapper">
              <div class="pagination-info" id="paginationInfo">
                Showing 0-0 of 0
              </div>
              <div class="pagination-controls">
                <button
                  class="pagination-btn"
                  id="prevBtn"
                  disabled
                  onclick="previousPage()"
                >
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button
                  class="pagination-btn"
                  id="nextBtn"
                  onclick="nextPage()"
                >
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>

          <!-- Footer -->
          <div class="content-footer">
            <p>
              © 2025 Pusat Data dan Informasi Kementerian Pertahanan Republik
              Indonesia
            </p>
            <div class="footer-links">
              <a href="#">About</a>
              <a href="#">Support</a>
              <a href="#">Contact Us</a>
            </div>
          </div>
        </div>

        <!-- DETAIL VIEW -->
        <div class="detail-view-container" id="detailViewContainer">
          <div class="page-title-section">
            <button class="btn-back" onclick="closePreview()">
              <i class="bi bi-chevron-left"></i>
            </button>
            <h1 class="page-title">Surat Masuk</h1>
          </div>

          <div class="detail-layout">
            <!-- Left: Preview -->
            <div class="preview-card">
              <div class="preview-doc-title" id="previewDocTitle">
                Pengajuan Magang Mahasiswa Prodi Sistem Informasi
              </div>
              <div class="preview-content">
                <i class="bi bi-file-earmark-pdf"></i>
                <div class="preview-text">
                  Preview dokumen PDF akan ditampilkan di sini
                </div>
              </div>
              <div class="preview-navigation">
                <button class="nav-btn">
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button class="nav-btn">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>

            <!-- Right: Info & Status -->
            <div>
              <!-- Info Surat -->
              <div class="info-card">
                <div class="info-header">
                  <div class="info-title">Informasi Surat</div>
                  <div class="info-actions">
                    <button
                      class="action-icon-btn"
                      title="Download"
                      onclick="downloadFile()"
                    >
                      <i class="bi bi-download"></i>
                    </button>
                    <button
                      class="action-icon-btn"
                      title="Print"
                      onclick="printFile()"
                    >
                      <i class="bi bi-printer"></i>
                    </button>
                    <button
                      class="action-icon-btn"
                      title="Delete"
                      onclick="deleteFile()"
                    >
                      <i class="bi bi-trash"></i>
                    </button>
                  </div>
                </div>

                <div class="info-grid">
                  <div class="info-item">
                    <div class="info-label">Nomor Surat</div>
                    <div class="info-value" id="infoNomorSurat">001/2025</div>
                  </div>
                  <div class="info-item">
                    <div class="info-label">Asal Surat</div>
                    <div class="info-value" id="infoAsalSurat">
                      UPN Veteran Jakarta
                    </div>
                  </div>
                  <div class="info-item">
                    <div class="info-label">Tanggal Surat</div>
                    <div class="info-date">
                      <i class="bi bi-calendar3"></i>
                      <span id="infoTanggalSurat">01/08/2025</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <div class="info-label">Tanggal Diterima</div>
                    <div class="info-date">
                      <i class="bi bi-calendar3"></i>
                      <span id="infoTanggalDiterima">04/08/2025</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <div class="info-label">Jenis Surat</div>
                    <span class="badge badge-masuk" id="infoJenisSurat"
                      >Masuk</span
                    >
                  </div>
                  <div class="info-item">
                    <div class="info-label">Sifat Surat</div>
                    <span class="badge badge-umum" id="infoSifatSurat"
                      >Umum</span
                    >
                  </div>
                  <div class="info-item info-full">
                    <div class="info-label">Kepada</div>
                    <div class="info-value" id="infoKepada">
                      Kepala Bidang Banglola Sisfohan
                    </div>
                  </div>
                  <div class="info-item info-full">
                    <div class="info-label">Perihal</div>
                    <div class="info-perihal" id="infoPerihal">
                      Pengajuan Magang Mahasiswa Prodi Sistem Informasi
                    </div>
                  </div>
                  <div class="info-item info-full">
                    <div class="info-label">File</div>
                    <div class="info-file" onclick="downloadFile()">
                      <i class="bi bi-file-earmark-pdf-fill"></i>
                      <div class="file-name" id="infoFileName">
                        Pengajuan_MagangMahasiswa_UPNVJ.pdf
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Riwayat Disposisi -->
                <div class="disposisi-section">
                  <div class="section-header">
                    <i class="bi bi-chat-left-text"></i>
                    <div class="section-title">Riwayat Disposisi</div>
                  </div>
                  <div class="disposisi-stats">
                    <div class="stat-item">
                      <span class="stat-label">Pending:</span>
                      <span class="stat-value pending">0</span>
                    </div>
                    <div class="stat-item">
                      <span class="stat-label">Proses:</span>
                      <span class="stat-value proses">1</span>
                    </div>
                    <div class="stat-item">
                      <span class="stat-label">Selesai:</span>
                      <span class="stat-value selesai">1</span>
                    </div>
                  </div>

                  <div class="disposisi-list" id="disposisiList">
                    <!-- Disposisi items will be populated by JavaScript -->
                  </div>
                </div>
              </div>

              <!-- Status Surat -->
              <div class="status-card">
                <div class="status-header">Status Surat</div>

                <div class="status-current">
                  <div class="status-label">Status Saat ini</div>
                  <span class="status-value" id="statusValue">Proses</span>
                </div>

                <div class="progress-section">
                  <div class="progress-label">Progress Disposisi</div>
                  <div class="progress-bar-container">
                    <div
                      class="progress-bar"
                      id="progressBar"
                      style="width: 50%"
                    ></div>
                  </div>
                  <div class="progress-text" id="progressText">50%</div>
                </div>

                <div class="update-section">
                  <div class="update-label">Update Surat</div>
                  <select class="update-select" id="updateStatusSelect">
                    <option value="">Update Surat</option>
                    <option value="Proses">Proses</option>
                    <option value="Selesai">Selesai</option>
                    <option value="Ditolak">Ditolak</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Footer -->
          <div class="content-footer">
            <p>
              © 2025 Pusat Data dan Informasi Kementerian Pertahanan Republik
              Indonesia
            </p>
            <div class="footer-links">
              <a href="#">About</a>
              <a href="#">Support</a>
              <a href="#">Contact Us</a>
            </div>
          </div>
        </div>

        <!-- FORM TAMBAH/EDIT SURAT -->
        <div class="form-view-container" id="formViewContainer">
          <div class="page-title-section">
            <button class="btn-back" onclick="closeForm()">
              <i class="bi bi-chevron-left"></i>
            </button>
            <h1 class="page-title" id="formTitle">Tambah Surat Masuk</h1>
          </div>

          <div class="surat-masuk-card">
            <form id="suratForm" onsubmit="submitForm(event)">
              <div class="form-grid">
                <div class="form-group">
                  <label class="form-label">Nomor Surat *</label>
                  <input
                    type="text"
                    class="form-input"
                    id="formNoSurat"
                    required
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Asal Surat *</label>
                  <input
                    type="text"
                    class="form-input"
                    id="formDari"
                    required
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Tanggal Surat *</label>
                  <input
                    type="date"
                    class="form-input"
                    id="formTanggalSurat"
                    required
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Tanggal Diterima *</label>
                  <input
                    type="date"
                    class="form-input"
                    id="formTanggalDiterima"
                    required
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Jenis Surat *</label>
                  <select class="form-input" id="formJenisSurat" required>
                    <option value="">Pilih Jenis</option>
                    <option value="Masuk">Masuk</option>
                    <option value="Keluar">Keluar</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="form-label">Sifat Surat *</label>
                  <select class="form-input" id="formSifatSurat" required>
                    <option value="">Pilih Sifat</option>
                    <option value="Umum">Umum</option>
                    <option value="Penting">Penting</option>
                    <option value="Rahasia">Rahasia</option>
                  </select>
                </div>

                <div class="form-group form-full">
                  <label class="form-label">Kepada *</label>
                  <input
                    type="text"
                    class="form-input"
                    id="formKepada"
                    required
                  />
                </div>

                <div class="form-group form-full">
                  <label class="form-label">Perihal *</label>
                  <textarea
                    class="form-input"
                    id="formPerihal"
                    rows="3"
                    required
                  ></textarea>
                </div>

                <div class="form-group form-full">
                  <label class="form-label">Nama File</label>
                  <input
                    type="text"
                    class="form-input"
                    id="formFile"
                    placeholder="contoh: Pengajuan_Magang.pdf"
                  />
                </div>
              </div>

              <div class="form-actions">
                <button type="button" class="btn-cancel" onclick="closeForm()">
                  Batal
                </button>
                <button type="submit" class="btn-submit">
                  <i class="bi bi-save"></i>
                  Simpan
                </button>
              </div>
            </form>
          </div>

          <!-- Footer -->
          <div class="content-footer">
            <p>
              © 2025 Pusat Data dan Informasi Kementerian Pertahanan Republik
              Indonesia
            </p>
            <div class="footer-links">
              <a href="#">About</a>
              <a href="#">Support</a>
              <a href="#">Contact Us</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS -->
    <script src="assets/js/main.js"></script>
  </body>
</html>
