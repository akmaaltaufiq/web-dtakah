<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surat Masuk - Dashboard</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <!-- Sidebar placeholder -->
    <div id="sidebar-placeholder"></div>

    <div class="main-content">
      <!-- Header -->
      <div class="content-header">
        <div class="header-left">
          <div class="logo-emblem"></div>
          <div class="header-title">
            Tata Naskah Digital Kementerian Pertahanan Republik Indonesia
          </div>
        </div>
        <div class="header-right">
          <button class="header-btn">
            <i class="bi bi-bell-fill"></i>
            <span class="notification-badge">4</span>
          </button>
          <div class="language-selector">
            <img src="https://flagcdn.com/w40/id.png" alt="Indonesia" />
            <span style="font-size: 14px; font-weight: 500">Indonesia</span>
            <i class="bi bi-chevron-down" style="font-size: 12px"></i>
          </div>
          <div class="user-info">
            <div class="user-details">
              <div class="user-details-name">Staff TU Puslapbinkunhan</div>
              <div class="user-details-role">Admin</div>
            </div>
            <div class="user-avatar-header">
              <i class="bi bi-person-fill"></i>
            </div>
          </div>
        </div>
      </div>

      <div class="content-container">
        <!-- LIST VIEW -->
        <div class="list-view-container" id="listViewContainer">
          <h1 class="page-title">Surat Masuk</h1>
          <div class="surat-masuk-card">
            <div class="card-header-section">
              <button class="btn-tambah" onclick="showTambahForm()">
                <i class="bi bi-plus-lg"></i>
                Tambah Baru
              </button>
              <div class="search-table">
                <input type="text" placeholder="Search" id="tableSearch" />
                <i class="bi bi-search"></i>
              </div>
            </div>

            <div class="table-responsive">
              <table class="surat-table">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Tanggal Terima</th>
                    <th>No Surat</th>
                    <th>Perihal</th>
                    <th>Dari</th>
                    <th>Kepada</th>
                    <th>Opsi</th>
                  </tr>
                </thead>
                <tbody id="tableBody"></tbody>
              </table>
            </div>

            <div class="pagination-wrapper">
              <div class="pagination-info" id="paginationInfo">
                Showing 0-0 of 0
              </div>
              <div class="pagination-controls">
                <button
                  class="pagination-btn"
                  id="prevBtn"
                  disabled
                  onclick="previousPage()"
                >
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button
                  class="pagination-btn"
                  id="nextBtn"
                  onclick="nextPage()"
                >
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- FORM VIEW -->
        <div class="form-view-container" id="formViewContainer">
          <div class="form-header">
            <h1 class="form-header-title">Form Registrasi Surat Masuk</h1>

            <div class="form-steps">
              <div class="form-step">
                <div class="step-number active" id="step1Number">1</div>
                <div class="step-label">Surat</div>
              </div>
              <div class="step-connector"></div>
              <div class="form-step">
                <div class="step-number inactive" id="step2Number">2</div>
                <div class="step-label">Tujuan</div>
              </div>
              <div class="step-connector"></div>
              <div class="form-step">
                <div class="step-number inactive" id="step3Number">3</div>
                <div class="step-label">Preview</div>
              </div>
            </div>
          </div>

          <div class="surat-masuk-card">
            <form id="suratForm">
              <!-- STEP 1: SURAT -->
              <div class="step-content active" id="step1Content">
                <div class="form-section">
                  <h2 class="form-section-title">IDENTITAS PENGIRIM NASKAH</h2>
                  <div class="form-grid">
                    <div class="form-group">
                      <label class="form-label">Nama Pengirim *</label>
                      <input
                        type="text"
                        class="form-input"
                        id="namaPengirim"
                        placeholder="Masukkan Nama Pengirim"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">Jabatan Pengirim *</label>
                      <input
                        type="text"
                        class="form-input"
                        id="jabatanPengirim"
                        placeholder="Masukkan Jabatan Pengirim"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h2 class="form-section-title">DETAIL ISI NASKAH</h2>
                  <div class="form-grid">
                    <div class="form-group">
                      <label class="form-label">Jenis Naskah *</label>
                      <select class="form-input" id="jenisSurat" required>
                        <option value="">Pilih Jenis Naskah</option>
                        <option value="Surat Masuk">Surat Masuk</option>
                        <option value="Surat Keluar">Surat Keluar</option>
                        <option value="Nota Dinas">Nota Dinas</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="form-label">Sifat Naskah *</label>
                      <select class="form-input" id="sifatSurat" required>
                        <option value="">Pilih Sifat Naskah...</option>
                        <option value="Umum">Umum</option>
                        <option value="Penting">Penting</option>
                        <option value="Segera">Segera</option>
                        <option value="Rahasia">Rahasia</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label class="form-label">Nomor Naskah *</label>
                      <input
                        type="text"
                        class="form-input"
                        id="noSurat"
                        placeholder="Masukkan Nomor Naskah..."
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">Perihal *</label>
                      <input
                        type="text"
                        class="form-input"
                        id="perihal"
                        placeholder="Masukkan Perihal Surat"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">Tanggal Naskah *</label>
                      <input
                        type="date"
                        class="form-input"
                        id="tanggalSurat"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">Tanggal Diterima *</label>
                      <input
                        type="date"
                        class="form-input"
                        id="tanggalDiterima"
                        required
                      />
                    </div>
                    <div class="form-group form-full">
                      <label class="form-label">Catatan</label>
                      <textarea
                        class="form-input"
                        id="catatan"
                        placeholder="Masukkan Catatan"
                        rows="4"
                      ></textarea>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <div class="form-group form-full">
                    <label class="form-label">File Naskah *</label>
                    <div
                      class="form-upload-area"
                      id="uploadArea"
                      onclick="document.getElementById('fileInput').click()"
                    >
                      <div class="upload-icon">
                        <i class="bi bi-cloud-arrow-up"></i>
                      </div>
                      <div class="upload-text">
                        Klik untuk unggah file (PDF, DOC, DOCX)
                      </div>
                      <div id="fileInfoDisplay"></div>
                    </div>
                    <input
                      type="file"
                      id="fileInput"
                      style="display: none"
                      accept=".pdf,.doc,.docx"
                    />
                  </div>
                </div>

                <div class="form-actions">
                  <button
                    type="button"
                    class="btn-cancel"
                    onclick="closeForm()"
                  >
                    Batal
                  </button>
                  <button type="button" class="btn-next" onclick="nextStep()">
                    Selanjutnya
                  </button>
                </div>
              </div>

              <!-- STEP 2: TUJUAN -->
              <div class="step-content" id="step2Content">
                <div class="form-section">
                  <h2 class="form-section-title">TUJUAN NASKAH</h2>
                  <div class="form-grid">
                    <div class="form-group form-full">
                      <label class="form-label">Ditujukan Kepada *</label>
                      <input
                        type="text"
                        class="form-input"
                        id="kepada"
                        placeholder="Masukkan Tujuan Surat"
                        required
                      />
                    </div>
                    <div class="form-group form-full">
                      <label class="form-label">Catatan Disposisi</label>
                      <textarea
                        class="form-input"
                        id="catatanDisposisi"
                        placeholder="Masukkan catatan untuk penerima"
                        rows="4"
                      ></textarea>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button type="button" class="btn-prev" onclick="prevStep()">
                    Kembali
                  </button>
                  <button type="button" class="btn-next" onclick="nextStep()">
                    Selanjutnya
                  </button>
                </div>
              </div>

              <!-- STEP 3: PREVIEW -->
              <div class="step-content" id="step3Content">
                <div class="form-section">
                  <h2 class="form-section-title">PREVIEW SURAT MASUK</h2>

                  <div class="preview-grid">
                    <div class="preview-section">
                      <div class="preview-section-title">
                        Identitas Pengirim
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">Nama Pengirim</div>
                        <div class="preview-value" id="previewNamaPengirim">
                          -
                        </div>
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">Jabatan</div>
                        <div class="preview-value" id="previewJabatan">-</div>
                      </div>
                    </div>

                    <div class="preview-section">
                      <div class="preview-section-title">Detail Naskah</div>
                      <div class="preview-item">
                        <div class="preview-label">Jenis Naskah</div>
                        <div class="preview-value" id="previewJenis">-</div>
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">Sifat Naskah</div>
                        <div class="preview-value" id="previewSifat">-</div>
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">Nomor Surat</div>
                        <div class="preview-value" id="previewNoSurat">-</div>
                      </div>
                    </div>

                    <div class="preview-section">
                      <div class="preview-section-title">Tanggal</div>
                      <div class="preview-item">
                        <div class="preview-label">Tanggal Surat</div>
                        <div class="preview-value" id="previewTanggalSurat">
                          -
                        </div>
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">Tanggal Diterima</div>
                        <div class="preview-value" id="previewTanggalDiterima">
                          -
                        </div>
                      </div>
                    </div>

                    <div class="preview-section">
                      <div class="preview-section-title">Tujuan</div>
                      <div class="preview-item">
                        <div class="preview-label">Kepada</div>
                        <div class="preview-value" id="previewKepada">-</div>
                      </div>
                    </div>

                    <div class="preview-section" style="grid-column: 1 / -1">
                      <div class="preview-section-title">Perihal & Catatan</div>
                      <div class="preview-item">
                        <div class="preview-label">Perihal</div>
                        <div class="preview-value" id="previewPerihal">-</div>
                      </div>
                      <div class="preview-item">
                        <div class="preview-label">File</div>
                        <div class="preview-value" id="previewFile">-</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-actions">
                  <button type="button" class="btn-prev" onclick="prevStep()">
                    Kembali
                  </button>
                  <button type="submit" class="btn-submit">Simpan Surat</button>
                </div>
              </div>

              <!-- SUCCESS MESSAGE -->
              <div class="step-content" id="successContent">
                <div class="success-icon">
                  <i class="bi bi-check-lg"></i>
                </div>
                <div class="success-message">
                  Surat Masuk Berhasil Disimpan!
                </div>
                <div class="form-actions">
                  <button
                    type="button"
                    class="btn-submit"
                    onclick="closeForm()"
                  >
                    Kembali ke Daftar
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="assets/js/main.js"></script>
  </body>
</html>
