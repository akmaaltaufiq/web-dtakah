<div class="content-header">
  <div class="header-left">
    <!-- SIDEBAR TOGGLE BUTTON -->
    <button
      class="menu-toggle-btn"
      id="sidebarToggleBtn"
      title="Toggle Sidebar"
    >
      <i class="bi bi-list"></i>
    </button>

    <!-- Logo -->
    <div class="logo-emblem-header">
      <img src="assets/img/logo_kemhan_ri.png" alt="Logo Kemhan" />
    </div>

    <!-- Title -->
    <div class="header-title">
      Tata Naskah Digital Kementerian Pertahanan Republik Indonesia
    </div>
  </div>

  <div class="header-right">
    <!-- Notification Button with Wrapper -->
    <div style="position: relative">
      <button class="header-btn" id="notificationBtn" title="Notifikasi">
        <i class="bi bi-bell-fill"></i>
        <span class="notification-badge" id="notificationCount"></span>
      </button>

      <!-- Notification Dropdown -->
      <div class="notification-dropdown" id="notificationDropdown">
        <div class="notification-header">
          <h4>Notifikasi Terbaru (<span id="notifUnreadCount">0</span>)</h4>
          <button class="mark-all-read" id="markAllRead">
            Tandai Sudah Baca
          </button>
        </div>
        <div class="notification-list" id="notifList">
          <p style="text-align: center; color: #999; padding: 10px">
            Memuat notifikasi...
          </p>
        </div>
        <div class="notification-footer">
          <a href="monitoring.html">Lihat Semua</a>
        </div>
      </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector-wrapper">
      <div class="language-selector" id="languageSelector">
        <img src="https://flagcdn.com/w40/id.png" alt="Indonesia" />
        <span>Indonesia</span>
        <i class="bi bi-chevron-down"></i>
      </div>
      <div class="language-dropdown" id="languageDropdown">
        <a href="#" class="lang-item active" data-lang="id">
          <img src="https://flagcdn.com/w40/id.png" alt="Indonesia" />
          <span>Indonesia</span>
        </a>
        <a href="#" class="lang-item" data-lang="en">
          <img src="https://flagcdn.com/w40/us.png" alt="English" />
          <span>English</span>
        </a>
      </div>
    </div>

    <!-- User Profile with Dropdown -->
    <div class="user-profile-wrapper">
      <div class="user-info" id="userProfileBtn">
        <div class="user-details">
          <div class="user-details-name" id="userNameDisplay">Loading...</div>
          <div class="user-details-role" id="userRoleDisplay">-</div>
        </div>
        <div class="user-avatar-header">
          <i class="bi bi-person-fill"></i>
        </div>
      </div>

      <!-- Profile Dropdown Menu -->
      <div class="profile-dropdown" id="profileDropdown">
        <div class="profile-dropdown-header">
          <div class="profile-dropdown-avatar">
            <i class="bi bi-person-circle"></i>
          </div>
          <div class="profile-dropdown-info">
            <div class="profile-dropdown-name" id="dropdownUserName">
              Loading...
            </div>
            <div class="profile-dropdown-role" id="dropdownUserRole">-</div>
          </div>
        </div>
        <div class="profile-dropdown-divider"></div>
        <a href="pengaturan.html" class="profile-dropdown-item">
          <i class="bi bi-gear"></i>
          <span>Pengaturan</span>
        </a>
        <a href="#" class="profile-dropdown-item" id="logoutDropdownBtn">
          <i class="bi bi-box-arrow-right"></i>
          <span>Logout</span>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Profile Dropdown Styles */
  .user-profile-wrapper {
    position: relative;
  }

  .user-info {
    cursor: pointer;
    transition: background 0.2s;
    border-radius: 8px;
    padding: 4px 8px;
  }

  .user-info:hover {
    background: #f5f5f5;
  }

  .profile-dropdown {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    width: 260px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    z-index: 1100;
    display: none;
    opacity: 0;
    transform: translateY(-8px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .profile-dropdown.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }

  .profile-dropdown-header {
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    background: linear-gradient(135deg, #8b0000 0%, #6b0000 100%);
    border-radius: 12px 12px 0 0;
  }

  .profile-dropdown-avatar {
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    flex-shrink: 0;
  }

  .profile-dropdown-info {
    flex: 1;
    min-width: 0;
  }

  .profile-dropdown-name {
    font-size: 14px;
    font-weight: 600;
    color: white;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .profile-dropdown-role {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 2px;
  }

  .profile-dropdown-divider {
    height: 1px;
    background: #e5e7eb;
    margin: 0;
  }

  .profile-dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    color: #374151;
    text-decoration: none;
    transition: all 0.2s;
    font-size: 14px;
    font-weight: 500;
  }

  .profile-dropdown-item:hover {
    background: #f9fafb;
    color: #8b0000;
  }

  .profile-dropdown-item i {
    font-size: 18px;
    width: 20px;
    text-align: center;
  }

  .profile-dropdown-item:last-child {
    border-radius: 0 0 12px 12px;
    color: #dc2626;
  }

  .profile-dropdown-item:last-child:hover {
    background: #fef2f2;
    color: #dc2626;
  }

  @media (max-width: 768px) {
    .profile-dropdown {
      width: 240px;
    }

    .user-details {
      display: none;
    }
  }
</style>
